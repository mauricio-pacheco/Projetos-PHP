Function.prototype.addMethod=function(a,b){if(!this.prototype[a])this.prototype[a]=b;return this};Function.addMethod("as",function(e,f){var b=e?e.split("."):[];if(b.length>0){var a=window;for(var d=0;d<b.length-1;++d){var c=b[d];if(c){if(!a[c])a[c]={};a=a[c]}}a[b.last()]=f?new this:this}return this});Function.addMethod("ns",function(a){this.as(a,1)});String.addMethod("trim",function(){return this.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1")});String.addMethod("collapse",function(){return this.replace(/\s+/g," ").trim()});String.addMethod("wrap",function(a){var b,c={"(":")","{":"}","[":"]","<":">","\u00c2\u00ab":"\u00c2\u00bb","\u00e2\u20ac\u00b9":"\u00e2\u20ac\u00ba","\u00e2\u20ac\u0153":"\u00e2\u20ac\u009d","\u00e2\u20ac\u02dc":"\u00e2\u20ac\u2122"};if(c[a])b=c[a];else{var d=/^<(\w+)(\s+\w+\s*=\s*"[^"]*")*\s*>$/.exec(a);if(d)b="</"+d[1]+">"}return a+this+(b?b:a)});String.addMethod("format",function(){var b=this;for(var a=0;a<arguments.length;++a)b=b.replace(new RegExp("\\{"+a+"\\}","g"),arguments[a]);return b});String.addMethod("encodeHtml",function(){var a=this.replace(/\>/g,"&gt;").replace(/\</g,"&lt;").replace(/\&/g,"&amp;").replace(/\'/g,"&#039;").replace(/\"/g,"&quot;");return a});String.addMethod("decodeHtml",function(){var a=this.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&#039;/g,"'").replace(/&quot;/g,'"');return a});String.addMethod("encodeURIComponent",function(){return typeof encodeURIComponent!="undefined"?encodeURIComponent(this):escape(this)});String.addMethod("decodeURIComponent",function(){return typeof decodeURIComponent!="undefined"?decodeURIComponent(this):unescape(this)});Array.addMethod("last",function(){return this.length>0?this[this.length-1]:void 0});Array.addMethod("remove",function(b){for(var a=this.length-1;a>=0;--a)if(this[a]===b)this.splice(a,1);return this});Array.addMethod("contains",function(b){for(var a=0;a<this.length;++a)if(this[a]===b)return 1;return 0});Array.addMethod("push",function(a){this[this.length]=a;return this.length});Array.addMethod("shift",function(){return this.splice(0,1)[0]});Array.addMethod("splice",function(c,d){var b,e=arguments.length-2;if(c>this.length)c=this.length;if(c+d>this.length)d=this.length-c;var f=[];for(var a=0;a<d;++a)f.push(this[c+a]);if(e>d){b=e-d;for(a=this.length+b-1;a>=c+b;--a)this[a]=this[a-b]}else if(e<d){b=d-e;for(a=c+e;a<this.length-b;++a)this[a]=this[a+b];for(;a<this.length-1;++a)delete this[a];this.length-=b}for(a=0;a<e;++a)this[c+a]=arguments[2+a];return f});(function(){var a=this;Function.addMethod("hook",function(d,e){if(d){var f=b();if(!f&&d.addEventListener)d.addEventListener(e,this,false);else if(!f&&d.attachEvent)d.attachEvent("on"+e,this);else{var c=d["x"+e];if(c&&c.constructor==Array)if(c.contains(this))c=null;else c.push(this);else c=d["x"+e]=[this];if(c){d["on"+e]=function(d){var f=true;d=a.Event(d);for(var b=0;b<c.length;++b){var e=c[b](d);if(typeof e!="undefined"&&!e)f=false}return f};d=null}}}return this});Function.addMethod("unhook",function(a,c){if(a){var e=b();if(!e&&a.removeEventListener)a.removeEventListener(c,this,false);else if(!e&&a.detachEvent)a.detachEvent("on"+c,this);else{var d=a["x"+c];if(d&&d.constructor==Array)d.remove(this);else a["on"+c]=null}}return this});a.CancelEvent=function(b){b=a.Event(b);if(b){b.cancelBubble=true;if(b.stopPropagation)b.stopPropagation();b.returnValue=false;if(b.preventDefault)b.preventDefault()}return false};a.Event=function(a){return a?a:window.event};a.Target=function(c){c=a.Event(c);var b=c.target?c.target:c.srcElement;if(b&&b.nodeType!=1)b=a.ParentElem(b);return b};a.InnerText=function(e){var c="";for(var d=0;d<e.childNodes.length;d++){var b=e.childNodes[d];if(b.nodeType==1)c+=a.InnerText(b);else if(b.nodeType==3)c+=b.data}return c};a.NextElem=function(c,b){var a=c.nextSibling;while(a&&(a.nodeType!=1||b&&a.nodeName!=b))a=a.nextSibling;return a};a.PrevElem=function(c,b){var a=c.previousSibling;while(a&&(a.nodeType!=1||b&&a.nodeName!=b))a=a.previousSibling;return a};a.ParentElem=function(c,b){var a=c.parentNode;while(a&&(a.nodeType!=1||b&&a.nodeName!=b))a=a.parentNode;return a};a.ChildElem=function(e,f,g){var d=null,b;for(var c=0;!d&&c<e.childNodes.length;++c){b=e.childNodes[c];if(b.nodeType==1)if(!f||b.nodeName==f)d=b}if(!g)for(c=0;!d&&c<e.childNodes.length;++c){b=e.childNodes[c];if(b.nodeType==1)d=a.ChildElem(b,f)}return d};a.ForEach=function(e,d,c){for(var b=0;b<d.childNodes.length;++b){var a=d.childNodes[b];if(a.nodeType==1&&(!c||a.nodeName==c))if(e(a))break}};a.ChildCount=function(d,c){var e=0,a,b;for(a=0;a<d.childNodes.length;++a){b=d.childNodes[a];e+=b.nodeType==1&&(!c||b.nodeName==c)?1:0}return e};a.AddClass=function(a,e){var c=a.className;if(c){var g=c.collapse().split(" "),d=e.collapse().split(" ");for(var b=0;b<d.length;++b){var f=d[b];if(!g.contains(f))a.className+=" "+f}}else a.className=e;return a.className};a.DelClass=function(b,g){var a=b.className;if(a){var f=a.collapse().split(" "),d=g.collapse().split(" ");for(var c=0;c<d.length;++c)f.remove(d[c]);var e=f.join(" ");if(e!=a)b.className=e}return b.className};a.HasClass=function(b,a){return b.className.collapse().split(" ").contains(a)};a.Updated=function(){if(a.Access&&typeof a.Access.Updated=="function")a.Access.Updated()};function b(){return navigator.userAgent.indexOf("Safari")>=0}}).ns("Msn.DOM");(function(){var a=this,c=[];Function.addMethod("bind",function(b,h){var d;switch(typeof b){case "object":d=b.nodeType==1||b.nodeType==9?[b]:b.length?b:null;break;case "string":d=a.Select(b)}if(d)for(var g=0;g<d.length;++g){var e=d[g],f=new this(e,h);if(e.bindings)e.bindings.push(f);else e.bindings=[f];c.push(f)}return this});a.Unbind=function(d,f){var b;if(d.bindings&&d.bindings.length){for(b=0;b<d.bindings.length;++b){var e=d.bindings[b];if(e&&typeof e.dispose=="function")e.dispose();c.remove(e)}d.bindings=null}if(f)for(b=0;b<d.childNodes.length;++b){var g=d.childNodes[b];if(g.nodeType==1)a.Unbind(g,f)}};a.Select=function(c){function i(){var d=null;if(c)if(c.charAt(a)=="*")d="*";else while(a<c.length){var b=c.charAt(a);if("a"<=b&&b<="z"||"A"<=b&&b<="Z"||"0"<=b&&b<="9"||b=="-"){d=d?d+b:b;++a}else break}return d}function j(){while(a<c.length&&c.charAt(a)==" ")++a}function m(){var b=null;j();switch(c.charAt(a)){case "+":case ">":b=c.charAt(a);++a;j()}return b}function h(){++a;return i()}function g(){var b=null,d=i();if(d!==null)b=new e(d);while(c&&a<c.length){var f=c.charAt(a);if(f=="#"){if(!b)b=new e;b.setID(h())}else if(f=="."){if(!b)b=new e;b.addClass(h())}else break}return b}function n(){var d=[],b=g();if(b){d.push(b);while(a<c.length){var e=m();b=g();if(b){if(e)b.setComb(e);d.push(b)}else break}}return d}function e(a){var g=this,e="",f=null,d=null;g.setID=function(a){e=a};g.setComb=function(a){f=a};g.addClass=function(a){if(d)d.push(a);else d=[a]};g.getNodes=function(i){var d,g,j,k=[];if(e){switch(f){case ">":for(d=0;d<i.childNodes.length;++d)if(i.childNodes[d].nodeType==1&&i.childNodes[d].id==e){g=i.childNodes[d];break}break;case "+":j=b(i);if(j&&j.id==e)g=j;break;default:g=i.getElementById(e)}if(g&&(!a||a=="*"||a.toLowerCase()==g.nodeName.toLowerCase())&&c(g))k.push(g)}else if(a&&a!="*")switch(f){case ">":for(d=0;d<i.childNodes.length;++d){g=i.childNodes[d];if(g.nodeType==1&&g.nodeName.toLowerCase()==a&&c(g))k.push(g)}break;case "+":j=b(i);if(j&&j.nodeName.toLowerCase()==a&&c(j))k.push(j);break;default:var l=i.getElementsByTagName(a);for(d=0;d<l.length;++d)if(c(l[d]))k.push(l[d])}else switch(f){case ">":for(d=0;d<i.childNodes.length;++d){g=i.childNodes[d];if(g.nodeType==1&&c(g))k.push(g)}break;case "+":j=b(i);if(j&&c(j))k.push(j);break;default:h(i,k)}return k};function h(d,e){for(var b=0;b<d.childNodes.length;++b){var a=d.childNodes[b];if(a.nodeType==1){if(c(a))e.push(a);h(a,e)}}}function c(f){var a=1;if(d){var c=f.className;if(c){var e=c.collapse().split(" ");for(var b=0;b<d.length;++b)if(!e.contains(d[b])){a=0;break}}else a=0}return a}}function l(c,d){var a=[];for(var b=0;b<c.length;++b)a=a.concat(d.getNodes(c[b]));return a}var a=0,k=n(),d=[document];for(var f=0;f<k.length&&d.length>0;++f)d=l(d,k[f]);return d};function b(b){var a=b.nextSibling;while(a&&a.nodeType!=1)a=a.nextSibling;return a}(function(){a.Unbind(document,1);c=[]}).hook(window,"unload")}).ns("Msn.Bind");(function(j,e){if(!e)e={};var g=Msn.DOM,d=document,k=window,c=d.getElementById("more");c.style.display="none";var f=d.getElementById("xnav"),b=d.createElement("li"),a=d.createElement("a");a.href="#";a.className="expand";a.innerHTML=h(e.more,"more");b.appendChild(a);f.appendChild(b);i.hook(a,"click");function i(f){var d=c.style.display,e;if(d=="block"){d="none";e="expand";b.className=""}else{d="block";e="collapse";b.className="last"}c.style.display=d;a.className=e;f=g.Event(f);return g.CancelEvent(f)}this.dispose=function(){j=null;c=null;f=null;b=null;a=null};function h(a,b){return typeof a!="undefined"?a:b}}).as("Msn.Header");(function(C,d){if(!d)d={};var f=Msn.DOM,b=document,I=window,c=C,F=e(d.siteSearchOn,"false"),A=e(d.searchUrl,""),G=e(d.searchParam,""),u=e(d.searchParams,""),h=F=="true"?"site":"web";if(h=="site")D();var H=e(d.onepxgif,"http://blstc.msn.com/br/gbl/css/8/decoration/t.gif"),r=navigator.userAgent,q=r.indexOf("MSIE");if(q>=0)if(parseFloat(r.substring(q+4))<7&&parseFloat(r.substring(q+4))>5){g(b.getElementById("ntwseperator"),"bgimage","image");g(b.getElementById("leftcorner"),"bgimage","image");g(b.getElementById("searchform"),"bgimage","scale");g(b.getElementById("ntwlogo"),"bgimage","scale");g(b.getElementById("logoimg"),"img","image");g(b.getElementById("rightcorner"),"bgimage","image");g(n,"bgimage","image")}var k,i,j,n,p,z=b.getElementById("spyglass"),a=b.getElementById("q"),m="",l=h=="web"?e(d.helpertext,""):"";if(h=="web")a.className="";a.value=l;y.hook(z,"click");w.hook(a,"focus");x.hook(a,"blur");var t=c.onsubmit;c.onsubmit=function(){if(a.value==l)a.value="";return !!t?t(c):null};B.hook(a,"keypress");function D(){var a=b.getElementById("ntwscopes"),g=e(d.sitetext,"Search site"),h=e(d.webtext,"Web");k=b.createElement("div");k.className="selected";i=b.createElement("a");i.innerHTML=g;i.href=A;n=b.createElement("span");n.id="selectedscope";k.appendChild(i);k.appendChild(n);var f=b.createElement("div");f.id="ntwseperator";p=b.createElement("div");j=b.createElement("a");j.innerHTML=h;j.href=c.action;p.appendChild(j);a.appendChild(k);a.appendChild(f);a.appendChild(p);o.hook(i,"click");v.hook(j,"click")}function g(a,c,e){if(!a)return;var b;if(c=="bgimage")b=a.currentStyle.backgroundImage;else if(c=="img")b=a.src;if(b=="")return;var d=b.search(new RegExp("(http[s]?://.+\\.png)","i"))===-1?"":RegExp.$1;if(d.length>0){if(c=="bgimage")a.style.backgroundImage="none";else if(c=="img")a.src=H;a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', sizingMethod='"+e+"', src='"+d+"')"}}function B(a){if(a.keyCode==13)switch(h){case "site":o(null);a=f.Event(a);return f.CancelEvent(a)}}function o(b){var a=A+"?"+G+"="+s();if(u)a=a+"&"+u.replace(/&amp;/g,"&");if(b&&f.Target(b).tagName.toLowerCase()=="a")f.Target(b).href=a;else window.top.location.href=a}function v(d){if(d&&f.Target(d).tagName.toLowerCase()=="a"){var e=f.Target(d),b=c.action;for(var a=0;a<c.length;a++){if(a==0)b+="?";else b+="&";if(c[a].name.toLowerCase()=="q")b+=c[a].name+"="+s();else b+=c[a].name+"="+encodeURIComponent(c[a].value)}e.href=b}}function s(){m=a?a.value:"";if(h=="web")m=m==l?"":m;return encodeURIComponent(m)}function y(){switch(h){case "site":c.onsubmit=E;o(null)}}function E(a){a=f.Event(a);return f.CancelEvent(a)}function w(){a.className="typing";if(a.value==l)a.value=""}function x(){if(a.value.trim()==""){a.className="";a.value=l}}this.dispose=function(){if(h="site"){o.unhook(i,"click");v.unhook(j,"click")}y.unhook(z,"click");w.unhook(a,"focus");x.unhook(a,"blur");B.unhook(a,"keypress");c.onsubmit=null;C=null};function e(a,b){return typeof a!="undefined"?a:b}}).as("Msn.SiteSearch")